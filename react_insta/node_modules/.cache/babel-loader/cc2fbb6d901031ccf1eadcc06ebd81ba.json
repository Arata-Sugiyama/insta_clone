{"ast":null,"code":"var _jsxFileName = \"/Users/sugiyamaarata/Documents/insta_app/react_insta/src/features/core/NewPost.tsx\";\nimport React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styles from \"./Core.module.css\";\nimport { selectOpenNewPost, resetOpenNewPost, fetchPostStart, fetchPostEnd, fetchAsyncNewPost } from \"../post/postSlice\";\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto } from \"react-icons/md\";\nconst customStyles = {\n  content: {\n    top: \"55%\",\n    left: \"50%\",\n    width: 280,\n    height: 220,\n    padding: \"50px\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nconst NewPost = () => {\n  const dispatch = useDispatch();\n  const openNewPost = useSelector(selectOpenNewPost);\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n\n  const handlerEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput === null || fileInput === void 0 ? void 0 : fileInput.click();\n  };\n\n  const newPost = async e => {\n    e.preventDefault();\n    const packet = {\n      title: title,\n      img: image\n    };\n    await dispatch(fetchPostStart());\n    await dispatch(fetchAsyncNewPost(packet));\n    await dispatch(fetchPostEnd());\n    setTitle(\"\");\n    setImage(null);\n    dispatch(resetOpenNewPost());\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: openNewPost,\n    onRequestClose: async () => {\n      await dispatch(resetOpenNewPost());\n    },\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.core_signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.core_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"SNS clone\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    placeholder: \"Please enter caption\",\n    type: \"text\",\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"imageInput\",\n    hidden: true,\n    onChange: e => setImage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handlerEditPicture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MdAddAPhoto, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    disabled: !title || !image,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: newPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"New post\"))));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["/Users/sugiyamaarata/Documents/insta_app/react_insta/src/features/core/NewPost.tsx"],"names":["React","useState","Modal","useSelector","useDispatch","styles","selectOpenNewPost","resetOpenNewPost","fetchPostStart","fetchPostEnd","fetchAsyncNewPost","Button","TextField","IconButton","MdAddAPhoto","customStyles","content","top","left","width","height","padding","transform","NewPost","dispatch","openNewPost","image","setImage","title","setTitle","handlerEditPicture","fileInput","document","getElementById","click","newPost","e","preventDefault","packet","img","core_signUp","core_title","target","value","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\n\nimport styles from \"./Core.module.css\";\n\nimport { File } from \"../types\";\n\nimport {\n  selectOpenNewPost,\n  resetOpenNewPost,\n  fetchPostStart,\n  fetchPostEnd,\n  fetchAsyncNewPost,\n} from \"../post/postSlice\";\n\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst customStyles = {\n  content: {\n    top: \"55%\",\n    left: \"50%\",\n\n    width: 280,\n    height: 220,\n    padding: \"50px\",\n\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\nconst NewPost: React.FC = () => {\n  const dispatch: AppDispatch = useDispatch();\n  const openNewPost = useSelector(selectOpenNewPost);\n\n  const [image, setImage] = useState<File | null>(null);\n  const [title, setTitle] = useState(\"\");\n\n  const handlerEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput?.click();\n  };\n\n  const newPost = async (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    const packet = { title: title, img: image };\n    await dispatch(fetchPostStart());\n    await dispatch(fetchAsyncNewPost(packet));\n    await dispatch(fetchPostEnd());\n    setTitle(\"\");\n    setImage(null);\n    dispatch(resetOpenNewPost());\n  };\n\n  return (\n    <>\n      <Modal\n        isOpen={openNewPost}\n        onRequestClose={async () => {\n          await dispatch(resetOpenNewPost());\n        }}\n        style={customStyles}\n      >\n        <form className={styles.core_signUp}>\n          <h1 className={styles.core_title}>SNS clone</h1>\n\n          <br />\n          <TextField\n            placeholder=\"Please enter caption\"\n            type=\"text\"\n            onChange={(e) => setTitle(e.target.value)}\n          />\n\n          <input\n            type=\"file\"\n            id=\"imageInput\"\n            hidden={true}\n            onChange={(e) => setImage(e.target.files![0])}\n          />\n          <br />\n          <IconButton onClick={handlerEditPicture}>\n            <MdAddAPhoto />\n          </IconButton>\n          <br />\n          <Button\n            disabled={!title || !image}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={newPost}\n          >\n            New post\n          </Button>\n        </form>\n      </Modal>\n    </>\n  );\n};\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}