{"ast":null,"code":"var _jsxFileName = \"/Users/sugiyamaarata/Documents/react_insta/src/features/core/Core.tsx\";\nimport React from \"react\";\nimport Auth from \"../auth/Auth\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Badge } from \"@material-ui/core\";\nimport { selectProfile, selectIsLoadingAuth, setOpenSignIn, resetOpenSignIn, fetchAsyncGetMyProf, fetchAsyncGetProfs } from \"../auth/authSlice\";\nimport { selectPosts, selectIsLoadingPost, fetchAsyncGetPosts, fetchAsyncGetComments } from \"../post/postSlice\";\nconst StyledBadge = withStyles(theme => ({\n  badge: {\n    backgroundColor: '#44b700',\n    color: '#44b700',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"'\n    }\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0\n    }\n  }\n}))(Badge);\n\nconst Core = () => {\n  const dispatch = useDispatch();\n  const profile = useSelector(selectProfile);\n  const posts = useSelector(selectPosts);\n  const isLoadingPost = useSelector(selectIsLoadingPost);\n  const isLoadingAuth = useSelector(selectIsLoadingAuth);\n  useEffect(() => {\n    const fetchBootLoader = async () => {\n      if (localStorage.localJWT) {\n        dispatch(resetOpenSignIn());\n        const result = await dispatch(fetchAsyncGetMyProf());\n\n        if (fetchAsyncGetMyProf.rejected.match(result)) {\n          dispatch(setOpenSignIn());\n          return null;\n        }\n\n        await dispatch(fetchAsyncGetPosts);\n        await disptch(fetchAsyncGetProfs);\n        await disptch(fetchAsyncGetComments);\n      }\n    };\n\n    fetchBootLoader();\n  }, [dispatch]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(Auth, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 3\n    }\n  }));\n};\n\nexport default Core;","map":{"version":3,"sources":["/Users/sugiyamaarata/Documents/react_insta/src/features/core/Core.tsx"],"names":["React","Auth","useSelector","useDispatch","withStyles","Badge","selectProfile","selectIsLoadingAuth","setOpenSignIn","resetOpenSignIn","fetchAsyncGetMyProf","fetchAsyncGetProfs","selectPosts","selectIsLoadingPost","fetchAsyncGetPosts","fetchAsyncGetComments","StyledBadge","theme","badge","backgroundColor","color","boxShadow","palette","background","paper","position","top","left","width","height","borderRadius","animation","border","content","transform","opacity","Core","dispatch","profile","posts","isLoadingPost","isLoadingAuth","useEffect","fetchBootLoader","localStorage","localJWT","result","rejected","match","disptch"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AAGA,SAAQC,WAAR,EAAqBC,WAArB,QAAwC,aAAxC;AAGA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAIEC,KAJF,QAMO,mBANP;AAUA,SAEEC,aAFF,EAGEC,mBAHF,EAIEC,aAJF,EAKEC,eALF,EAUEC,mBAVF,EAWEC,kBAXF,QAYO,mBAZP;AAcA,SACEC,WADF,EAEEC,mBAFF,EAKEC,kBALF,EAMEC,qBANF,QAOO,mBAPP;AASA,MAAMC,WAAW,GAAGZ,UAAU,CAAEa,KAAD,KAAY;AACzCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,eAAe,EAAE,SADZ;AAELC,IAAAA,KAAK,EAAE,SAFF;AAGLC,IAAAA,SAAS,EAAG,aAAYJ,KAAK,CAACK,OAAN,CAAcC,UAAd,CAAyBC,KAAM,EAHlD;AAIL,gBAAY;AACVC,MAAAA,QAAQ,EAAE,UADA;AAEVC,MAAAA,GAAG,EAAE,CAFK;AAGVC,MAAAA,IAAI,EAAE,CAHI;AAIVC,MAAAA,KAAK,EAAE,MAJG;AAKVC,MAAAA,MAAM,EAAE,MALE;AAMVC,MAAAA,YAAY,EAAE,KANJ;AAOVC,MAAAA,SAAS,EAAE,mCAPD;AAQVC,MAAAA,MAAM,EAAE,wBARE;AASVC,MAAAA,OAAO,EAAE;AATC;AAJP,GADkC;AAiBzC,uBAAqB;AACnB,UAAM;AACJC,MAAAA,SAAS,EAAE,WADP;AAEJC,MAAAA,OAAO,EAAE;AAFL,KADa;AAKnB,YAAQ;AACND,MAAAA,SAAS,EAAE,YADL;AAENC,MAAAA,OAAO,EAAE;AAFH;AALW;AAjBoB,CAAZ,CAAD,CAAV,CA2BhB9B,KA3BgB,CAApB;;AA6BA,MAAM+B,IAAc,GAAE,MAAM;AAE5B,QAAMC,QAAqB,GAAGlC,WAAW,EAAzC;AACA,QAAMmC,OAAO,GAAGpC,WAAW,CAACI,aAAD,CAA3B;AACA,QAAMiC,KAAK,GAAGrC,WAAW,CAACU,WAAD,CAAzB;AACA,QAAM4B,aAAa,GAAGtC,WAAW,CAACW,mBAAD,CAAjC;AACA,QAAM4B,aAAa,GAAGvC,WAAW,CAACK,mBAAD,CAAjC;AAEAmC,EAAAA,SAAS,CAAC,MAAK;AACb,UAAMC,eAAe,GAAG,YAAW;AACjC,UAAIC,YAAY,CAACC,QAAjB,EAA0B;AACxBR,QAAAA,QAAQ,CAAC5B,eAAe,EAAhB,CAAR;AACA,cAAMqC,MAAM,GAAG,MAAMT,QAAQ,CAAC3B,mBAAmB,EAApB,CAA7B;;AACA,YAAIA,mBAAmB,CAACqC,QAApB,CAA6BC,KAA7B,CAAmCF,MAAnC,CAAJ,EAA+C;AAC7CT,UAAAA,QAAQ,CAAC7B,aAAa,EAAd,CAAR;AACA,iBAAO,IAAP;AACD;;AACD,cAAM6B,QAAQ,CAACvB,kBAAD,CAAd;AACA,cAAMmC,OAAO,CAACtC,kBAAD,CAAb;AACA,cAAMsC,OAAO,CAAClC,qBAAD,CAAb;AACD;AACA,KAZH;;AAaE4B,IAAAA,eAAe;AAChB,GAfM,EAeL,CAACN,QAAD,CAfK,CAAT;AAkBE,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACP,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,CAAP;AAGD,CA7BD;;AA+BA,eAAeD,IAAf","sourcesContent":["import React from \"react\";\nimport Auth from \"../auth/Auth\";\n\nimport styles from \"./Core.module.css\";\nimport {useSelector, useDispatch } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport {\n  Button,\n  Grid,\n  Avator,\n  Badge,\n  CircularProgress,\n} from \"@material-ui/core\";\n\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nimport {\n  editNickname,\n  selectProfile,\n  selectIsLoadingAuth,\n  setOpenSignIn,\n  resetOpenSignIn,\n  setOpenSignUp,\n  resetOpenSignUp,\n  setOpenProfile,\n  resetOpenProfile,\n  fetchAsyncGetMyProf,\n  fetchAsyncGetProfs,\n} from \"../auth/authSlice\";\n\nimport {\n  selectPosts,\n  selectIsLoadingPost,\n  setOpenNewPost,\n  resetOpenNewPost,\n  fetchAsyncGetPosts,\n  fetchAsyncGetComments,\n} from \"../post/postSlice\";\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    backgroundColor: '#44b700',\n    color: '#44b700',\n    boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\n    '&::after': {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      width: '100%',\n      height: '100%',\n      borderRadius: '50%',\n      animation: '$ripple 1.2s infinite ease-in-out',\n      border: '1px solid currentColor',\n      content: '\"\"',\n    },\n  },\n  '@keyframes ripple': {\n    '0%': {\n      transform: 'scale(.8)',\n      opacity: 1,\n    },\n    '100%': {\n      transform: 'scale(2.4)',\n      opacity: 0,\n    },\n  },\n}))(Badge);\n\nconst Core: React.FC =() => {\n\nconst dispatch: AppDispatch = useDispatch();\nconst profile = useSelector(selectProfile);\nconst posts = useSelector(selectPosts);\nconst isLoadingPost = useSelector(selectIsLoadingPost);\nconst isLoadingAuth = useSelector(selectIsLoadingAuth);\n\nuseEffect(() =>{\n  const fetchBootLoader = async () =>{\n    if (localStorage.localJWT){\n      dispatch(resetOpenSignIn());\n      const result = await dispatch(fetchAsyncGetMyProf());\n      if (fetchAsyncGetMyProf.rejected.match(result)){\n        dispatch(setOpenSignIn());\n        return null;\n      }\n      await dispatch(fetchAsyncGetPosts);\n      await disptch(fetchAsyncGetProfs);\n      await disptch(fetchAsyncGetComments);\n    }\n    };\n    fetchBootLoader();\n  },[dispatch]\n);\n\n  return <div>\n  <Auth />\n  </div>;\n}\n\nexport default Core;\n"]},"metadata":{},"sourceType":"module"}