{"ast":null,"code":"var _jsxFileName = \"/Users/sugiyamaarata/Documents/react_insta/src/features/core/EditProfile.tsx\";\nimport React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport styles from \"./Core.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { editNickname, selectProfile, selectOpenProfile, resetOpenProfile, fetchCredStart, fetchCredEnd, fetchAsyncUpdateProf } from \"../auth/authSlice\";\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto } from \"react-icons/md\";\nconst customStyles = {\n  content: {\n    top: \"55%\",\n    left: \"50%\",\n    width: 200,\n    height: 220,\n    padding: \"50px\",\n    transform: \"translate(-50% -50%)\"\n  }\n};\n\nconst EditProfile = () => {\n  const dispatch = useDispatch();\n  const openProfile = useSelector(selectOpenProfile);\n  const profile = useSelector(selectProfile);\n  const [image, setImage] = useState(null);\n\n  const updateProfile = async e => {\n    e.preventDefault();\n    const packet = {\n      id: profile.id,\n      nickName: profile.nickName,\n      img: image\n    };\n    await dispatch(fetchCredStart());\n    await dispatch(fetchAsyncUpdateProf(packet));\n    await dispatch(fetchCredEnd());\n    await dispatch(resetOpenProfile());\n  };\n\n  const handlerEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput === null || fileInput === void 0 ? void 0 : fileInput.click();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: openProfile,\n    onRequestClose: async () => {\n      await dispatch(resetOpenProfile());\n    },\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: style.core_signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.core_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }\n  }, \"SNS_clone\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    placeholder: \"nickname\",\n    type: \"text\",\n    value: profile === null || profile === void 0 ? void 0 : profile.nickName,\n    onChange: e => dispatch(editNickname(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"imageInput\",\n    hidden: true,\n    onChange: e => setImage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handlerEditPicture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(MdAddAPhoto, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 1\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    disabled: !(profile === null || profile === void 0 ? void 0 : profile.nickName),\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    onClick: updateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }\n  }, \"Update\"))));\n};\n\nexport default EditProfile;","map":{"version":3,"sources":["/Users/sugiyamaarata/Documents/react_insta/src/features/core/EditProfile.tsx"],"names":["React","useState","Modal","styles","useSelector","useDispatch","editNickname","selectProfile","selectOpenProfile","resetOpenProfile","fetchCredStart","fetchCredEnd","fetchAsyncUpdateProf","Button","TextField","IconButton","MdAddAPhoto","customStyles","content","top","left","width","height","padding","transform","EditProfile","dispatch","openProfile","profile","image","setImage","updateProfile","e","preventDefault","packet","id","nickName","img","handlerEditPicture","fileInput","document","getElementById","click","style","core_signUp","core_title","target","value","files"],"mappings":"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","sourcesContent":["import React,{ useState } from \"react\";\nimport Modal from \"react-modal\";\nimport styles from \"./Core.module.css\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\n\nimport { File } from \"../types\";\n\nimport {\n  editNickname,\n  selectProfile,\n  selectOpenProfile,\n  resetOpenProfile,\n  fetchCredStart,\n  fetchCredEnd,\n  fetchAsyncUpdateProf,\n} from \"../auth/authSlice\";\n\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto} from \"react-icons/md\";\n\n\nconst customStyles = {\n  content:{\n    top:\"55%\",\n    left:\"50%\",\n\n    width:200,\n    height:220,\n    padding:\"50px\",\n\n    transform: \"translate(-50% -50%)\",\n  },\n};\n\nconst EditProfile: React.FC = () =>{\n  const dispatch: AppDispatch = useDispatch();\n  const openProfile = useSelector(selectOpenProfile);\n  const profile = useSelector(selectProfile);\n  const [image, setImage] = useState<File | null>(null);\n\n  const updateProfile = async (e: React.MouseEvent<HTMLElement>) =>{\n    e.preventDefault();\n    const packet = {id: profile.id, nickName: profile.nickName, img: image};\n\n    await dispatch(fetchCredStart());\n    await dispatch(fetchAsyncUpdateProf(packet));\n    await dispatch(fetchCredEnd());\n    await dispatch(resetOpenProfile());\n  };\n\n  const handlerEditPicture = () =>{\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput?.click();\n  };\n\n  return (<>\n<Modal\nisOpen = {openProfile}\nonRequestClose={async ()=>{\n  await dispatch(resetOpenProfile());\n}}\nstyle={customStyles}\n>\n<form className={style.core_signUp}>\n<h1 className={styles.core_title}>SNS_clone</h1>\n\n<br />\n<TextField\nplaceholder=\"nickname\"\ntype=\"text\"\nvalue={profile?.nickName}\nonChange={(e) => dispatch(editNickname(e.target.value))}\n/>\n\n<input\ntype=\"file\"\nid=\"imageInput\"\nhidden={true}\nonChange={(e) => setImage(e.target.files![0])}\n/>\n<br />\n<IconButton onClick={handlerEditPicture}>\n<MdAddAPhoto />\n</IconButton>\n<Button\ndisabled={!profile?.nickName}\nvariant=\"contained\"\ncolor=\"primary\"\ntype=\"submit\"\nonClick={updateProfile}\n>\nUpdate\n</Button>\n</form>\n\n</Modal>\n  </>\n);\n};\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}