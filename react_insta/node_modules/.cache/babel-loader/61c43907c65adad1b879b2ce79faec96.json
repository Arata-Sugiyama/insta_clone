{"ast":null,"code":"var _jsxFileName = \"/Users/sugiyamaarata/Documents/react_insta/src/features/core/NewPost.tsx\";\nimport React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styles from \"./Core.module.css\";\nimport { selectOpenNewPost, resetOpenNewPost, fetchPostStart, fetchPostEnd, fetchAsyncNewPost } from \"../post/postSlice\";\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto } from \"react-icons/md\";\nconst customStyles = {\n  content: {\n    top: \"55%\",\n    left: \"50%\",\n    width: 280,\n    height: 220,\n    padding: \"50px\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nconst NewPost = () => {\n  const dispatch = AppDispatch = useDispatch();\n  const openNewPost = useSelector(selectOpenNewPost());\n  const [image, setImage] = useState(null);\n  const [title, setTitle] = useState(\"\");\n\n  const handlerEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput === null || fileInput === void 0 ? void 0 : fileInput.click();\n  };\n\n  const newPost = async e => {\n    e.preventDefault();\n    const packet = {\n      title: title,\n      img: image\n    };\n    await dispatch(fetchPostStart());\n    await dispatch(fetchAsyncNewPost(packet));\n    await dispatch(fetchPostEnd());\n    setTitle(\"\");\n    setImage(null);\n    dispatch(resetOpenNewPost());\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    isOpen: openNewPost,\n    onRequestClose: async () => {\n      await dispatch(resetOpenNewPost());\n    },\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.core_signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: styles.core_title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1\n    }\n  }, \"SNS_clone\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    placeholder: \"Please enter caption\",\n    type: \"text\",\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"imageInput\",\n    hidden: true,\n    onChange: e => setImage(e.target.files[0]),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: handlerEditPicture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(MdAddAPhoto, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 1\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    disabled: !title || !image,\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: newPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 1\n    }\n  }, \"New post\"))));\n};\n\nexport default NewPost;","map":{"version":3,"sources":["/Users/sugiyamaarata/Documents/react_insta/src/features/core/NewPost.tsx"],"names":["React","useState","Modal","useSelector","useDispatch","styles","selectOpenNewPost","resetOpenNewPost","fetchPostStart","fetchPostEnd","fetchAsyncNewPost","Button","TextField","IconButton","MdAddAPhoto","customStyles","content","top","left","width","height","padding","transform","NewPost","dispatch","AppDispatch","openNewPost","image","setImage","title","setTitle","handlerEditPicture","fileInput","document","getElementById","click","newPost","e","preventDefault","packet","img","core_signUp","core_title","target","value","files"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { AppDispatch } from \"../../app/store\";\n\nimport styles from \"./Core.module.css\";\nimport { File } from \"../types\";\n\nimport {\n  selectOpenNewPost,\n  resetOpenNewPost,\n  fetchPostStart,\n  fetchPostEnd,\n  fetchAsyncNewPost,\n} from \"../post/postSlice\";\n\nimport { Button, TextField, IconButton } from \"@material-ui/core\";\nimport { MdAddAPhoto } from \"react-icons/md\";\n\nconst customStyles = {\n  content: {\n    top: \"55%\",\n    left: \"50%\",\n\n    width: 280,\n    height: 220,\n    padding:\"50px\",\n\n    transform: \"translate(-50%, -50%)\",\n  },\n};\n\n\nconst NewPost: React.FC = () => {\n\n  const dispatch = AppDispatch = useDispatch();\n  const openNewPost = useSelector(selectOpenNewPost());\n\n  const [image, setImage] = useState<File | null>(null);\n  const [title, setTitle] = useState(\"\");\n\n  const handlerEditPicture = () =>{\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput?.click();\n  };\n\nconst newPost = async (e: React.MouseEvent<HTMLElement>) => {\n  e.preventDefault();\n  const packet = {title: title, img: image};\n  await dispatch(fetchPostStart());\n  await dispatch(fetchAsyncNewPost(packet));\n  await dispatch(fetchPostEnd());\n  setTitle(\"\");\n  setImage(null);\n  dispatch(resetOpenNewPost());\n};\n\n\n  return <>\n<Modal\nisOpen={openNewPost}\nonRequestClose={ async ()=>{\n  await dispatch(resetOpenNewPost());\n}}\nstyle={customStyles}\n>\n<form className={styles.core_signUp}>\n<h1 className={styles.core_title}>SNS_clone</h1>\n\n<br />\n<TextField\nplaceholder=\"Please enter caption\"\ntype=\"text\"\nonChange={(e) => setTitle(e.target.value)}\n/>\n\n<input\ntype=\"file\"\nid=\"imageInput\"\nhidden={true}\nonChange={(e) => setImage(e.target.files![0])}\n/>\n<br />\n<IconButton onClick={handlerEditPicture}>\n<MdAddAPhoto />\n</IconButton>\n<br />\n<Button\ndisabled={!title || !image}\nvariant=\"contained\"\ncolor=\"primary\"\nonClick={newPost}\n>\nNew post\n</Button>\n</form>\n\n\n</Modal>\n  </>;\n};\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}