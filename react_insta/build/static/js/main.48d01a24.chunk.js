(this.webpackJsonpreact_insta=this.webpackJsonpreact_insta||[]).push([[0],{106:function(e,a,t){e.exports={app:"App_app__1kX79"}},119:function(e,a,t){e.exports=t(156)},124:function(e,a,t){},156:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),i=t.n(c),o=(t(124),t(106)),l=t.n(o),u=t(8),s=t.n(u),p=t(19),m=t(49),d=t(21),f=t.n(d),h=t(85),b=t.n(h),g=t(90),v=t(51),E=t(184),w=t(188),_=t(189),x=t(25),O=t(50),y=t.n(O),S="http://localhost:8000/",j=Object(x.b)("auth/post",function(){var e=Object(p.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(S,"authen/jwt/create"),a,{headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),k=Object(x.b)("auth/register",function(){var e=Object(p.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(S,"api/register"),a,{headers:{"Content-Type":"application/jwt"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),C=Object(x.b)("profile/post",function(){var e=Object(p.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat(S,"api/profile"),a,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),N=Object(x.b)("profile/put",function(){var e=Object(p.a)(s.a.mark((function e(a){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("nickName",a.nickName),a.img&&t.append("img",a.img,a.img.name),e.next=5,y.a.put("".concat(S,"api/profile/").concat(a.id,"/"),t,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.localJWT)}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),A=Object(x.b)("profile/get",Object(p.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(S,"api/myprofile/"),{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return a=e.sent,e.abrupt("return",a.data[0]);case 4:case"end":return e.stop()}}),e)})))),T=Object(x.b)("profiles/get",Object(p.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(S,"api/profile/"),{headers:{Authorization:"JWT ".concat(localStorage.localJWT)}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))),U=Object(x.c)({name:"auth",initialState:{openSignIn:!0,openSignUp:!1,openProfile:!1,isLoadingAuth:!1,myprofile:{id:0,nickName:"",userProfile:0,created_on:"",img:""},profiles:[{id:0,nickName:"",userProfile:0,created_on:"",img:""}]},reducers:{fetchCredStart:function(e){e.isLoadingAuth=!0},fetchCredEnd:function(e){e.isLoadingAuth=!1},setOpenSignIn:function(e){e.openSignIn=!0},resetOpenSignIn:function(e){e.openSignIn=!1},setOpenSignUp:function(e){e.openSignUp=!0},resetOpenSignUp:function(e){e.openSignUp=!1},setOpenProfile:function(e){e.openProfile=!0},resetOpenProfile:function(e){e.openProfile=!1},editNickname:function(e,a){e.myprofile.nickName=a.payload}},extraReducers:function(e){e.addCase(j.fulfilled,(function(e,a){localStorage.setItem("localJWT",a.payload.access)})),e.addCase(C.fulfilled,(function(e,a){e.myprofile=a.payload})),e.addCase(A.fulfilled,(function(e,a){e.myprofile=a.payload})),e.addCase(T.fulfilled,(function(e,a){e.profiles=a.payload})),e.addCase(N.fulfilled,(function(e,a){e.myprofile=a.payload,e.profiles=e.profiles.map((function(e){return e.id===a.payload.id?a.payload:e}))}))}}),I=U.actions,J=I.fetchCredStart,W=I.fetchCredEnd,B=I.setOpenSignIn,P=I.resetOpenSignIn,q=I.setOpenSignUp,L=I.resetOpenSignUp,V=(I.setOpenProfile,I.resetOpenProfile,I.editNickname,function(e){return e.auth.isLoadingAuth}),z=function(e){return e.auth.openSignIn},R=function(e){return e.auth.openSignUp},Y=U.reducer,F={overlay:{backgroundColor:"#777777"},content:{top:"55%",left:"50%",width:280,height:350,padding:"50px",transform:"translate(-50%, -50%)"}},X=function(){b.a.setAppElement("#root");var e=Object(m.c)(z),a=Object(m.c)(R),t=Object(m.c)(V),n=Object(m.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{isOpen:a,onRequestClose:Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(L());case 2:case"end":return e.stop()}}),e)}))),style:F},r.a.createElement(g.a,{initialErrors:{email:"required"},initialValues:{email:"",password:""},onSubmit:function(){var e=Object(p.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(J());case 2:return e.next=4,n(k(a));case 4:if(t=e.sent,!k.fulfilled.match(t)){e.next=14;break}return e.next=8,n(j(a));case 8:return e.next=10,n(C({nickName:"annonymous"}));case 10:return e.next=12,n(T());case 12:return e.next=14,n(A());case 14:return e.next=16,n(W());case 16:return e.next=18,n(L());case 18:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),validationSchema:Object(v.a)().shape({email:Object(v.b)().email("email format is wrong").required("email is must"),password:Object(v.b)().required("password is must").min(4)})},(function(e){var a=e.handleSubmit,c=e.handleChange,i=e.handleBlur,o=e.values,l=e.touched,u=e.isValid,m=e.errors;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:f.a.auth_signUp},r.a.createElement("h1",{className:f.a.auth_title},"SNS_clone"),r.a.createElement("br",null),r.a.createElement("div",{className:f.a.auth_progress},t&&r.a.createElement(E.a,null)),r.a.createElement("br",null),r.a.createElement(w.a,{placeholder:"email",type:"input",name:"email",onChange:c,onBlur:i,value:o.email}),r.a.createElement("br",null),l.email&&m.email?r.a.createElement("div",{className:f.a.auth_error},m.email):null,r.a.createElement(w.a,{placeholder:"password",type:"password",name:"password",onChange:c,onBlur:i,value:o.password}),r.a.createElement("br",null),l.password&&m.password?r.a.createElement("div",{className:f.a.auth_error},m.password):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,{variant:"contained",color:"primary",disabled:!u,type:"submit"},"Register"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:f.a.auth_text,onClick:Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(B());case 2:return e.next=4,n(L());case 4:case"end":return e.stop()}}),e)})))},"You already have a account?"))))}),"}")),r.a.createElement(b.a,{isOpen:e,onRequestClose:Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(P());case 2:case"end":return e.stop()}}),e)}))),style:F},r.a.createElement(g.a,{initialErrors:{email:"required"},initialValues:{email:"",password:""},onSubmit:function(){var e=Object(p.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(J());case 2:return e.next=4,n(j(a));case 4:if(t=e.sent,!j.fulfilled.match(t)){e.next=10;break}return e.next=8,n(T());case 8:return e.next=10,n(A());case 10:return e.next=12,n(W());case 12:return e.next=14,n(P());case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),validationSchema:Object(v.a)().shape({email:Object(v.b)().email("email format is wrong").required("email is must"),passeord:Object(v.b)().required("passeord is must").min(4)})},(function(e){e.handleSubmit;var a=e.handleChange,c=e.handleBlur,i=e.values,o=e.errors,l=e.touched,u=e.isValid;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a},r.a.createElement("div",{className:f.a.auth_signUp},r.a.createElement("h1",{className:f.a.auth_title},"SNS_clone"),r.a.createElement("br",null),r.a.createElement("div",{className:f.a.auth_progress},t&&r.a.createElement(E.a,null)),r.a.createElement("br",null),r.a.createElement(w.a,{placeholder:"email",type:"input",name:"email",onChange:a,onBlur:c,value:i.email}),l.email&&o.email?r.a.createElement("div",{className:f.a.auth_error},o.email):null,r.a.createElement("br",null),r.a.createElement(w.a,{placeholder:"password",type:"password",name:"password",onChange:a,onBlur:c,value:i.password}),l.password&&o.password?r.a.createElement("div",{className:f.a.auth_error},o.password):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_.a,{variant:"contained",color:"primary",disabled:!u,type:"submit"},"Login"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:f.a.auth_text,onClick:Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(P());case 2:return e.next=4,n(q());case 4:case"end":return e.stop()}}),e)})))},"You already have a account?"))))}))))},D=function(){return r.a.createElement("div",null,r.a.createElement(X,null))};var G=function(){return r.a.createElement("div",{className:l.a.app},r.a.createElement(D,null))},M=Object(x.c)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,a){e.value+=a.payload}}}),$=M.actions,H=($.increment,$.decrement,$.incrementByAmount,M.reducer),K=Object(x.a)({reducer:{counter:H,auth:Y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:K},r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,a,t){e.exports={auth_title:"Auth_auth_title__3IiVY",auth_errot:"Auth_auth_errot__3yz82",auth_signUp:"Auth_auth_signUp__23bGX",auth_headerimage:"Auth_auth_headerimage__3OvYV",auth_text:"Auth_auth_text__1NS5E",auth_progress:"Auth_auth_progress__2Lo8w"}}},[[119,1,2]]]);
//# sourceMappingURL=main.48d01a24.chunk.js.map